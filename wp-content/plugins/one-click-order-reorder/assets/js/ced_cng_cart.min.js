jQuery(document).ready(function(a){function b(a){jQuery.ajax({url:global_var.ajaxurl,data:{action:"get_order_cart",nonce_check:global_var.ajax_nonce,order_id:a},type:"post",success:function(){window.location=global_var.cart_url}})}function c(b){jQuery.ajax({url:global_var.ajaxurl,data:{action:"get_oreder_products",order_id:b,ajax_nonce:global_var.ajax_nonce},type:"post",success:function(c){try{c=jQuery.parseJSON(c);var d=c.prodcuts,e=0,f='<div id="ced_cng_prodcts_exclude" class="ced_cng_popup-wrapper">';f+='<div class="ced_cng_popup-overlay">',f+='<div class="ced_cng_popup-container">',f+='<div class="ced_cng_popup-heading">',f+="<h1><strong>"+global_var.exclude_products_head+"</strong></h1>",f+='<a class="ced_cng_close ced_cng_close_wrapper">&times;</a>',f+="</div>",f+='<div class="ced_cng_popup-content">',f+='<div class="ced_cng_tbl_header">',f+='<div class="ced_cng_product_info">',f+='<div class="ced_cng_popup-column">',f+='<span class="ced_cng_heading_text">'+global_var.exclude+"</span>",f+="</div>",f+='<div class="ced_cng_popup-column">',f+='<span class="ced_cng_heading_text">'+global_var.product_name+"</span>",f+="</div>",f+='<div class="ced_cng_popup-column">',f+='<span class="ced_cng_heading_text">'+global_var.stock+"</span>",f+="</div>",f+='<div class="ced_cng_popup-column">',f+='<span class="ced_cng_heading_text">'+global_var.quantity+"</span>",f+="</div>",f+="</div>",f+="</div>",f+='<div class="ced_cng_popup-content ced_cng_tbl_body">';for(var g in d)if(d.hasOwnProperty(g)){var h=d[g].title;availablity=d[g].availability,qty=d[g].qty,stock="out_of_stock"==d[g].stock?"Out of stock":"In stock",stockClass="out_of_stock"==d[g].stock?"ced_cng_txt_red":"ced_cng_txt_green",excluded="out_of_stock"==d[g].stock?"checked readonly":"",exclude_dsc="out_of_stock"==d[g].stock?global_var.out_of_stock_desc:global_var.exclude_desc,permalink=d[g].permalink,"not_exist"!=availablity&&("availale"==availablity?(f+='<div class="ced_cng_product_info ced_cng_product-'+g+'">',f+='<div class="ced_cng_popup-column">',f+='<input class="ced_cng_exclude_item" type="checkbox" value="'+g+'" '+excluded+' title="'+exclude_dsc+'">',f+="</div>",f+='<div class="ced_cng_popup-column"><a href="'+permalink+'" target="_blank">'+h+"</a></div>",f+='<div class="ced_cng_popup-column"><span class="'+stockClass+'">'+stock+"</span></div>",f+='<div class="ced_cng_popup-column">',f+='<input step="1" min="1" max="" value="'+qty+'" data-id="'+g+'" onkeydown="return false" class="ced_cng_qty" size="4" pattern="[0-9]*" inputmode="numeric" type="number">',f+="</div>",f+="</div>"):(excluded="checked disabled",f+='<div class="ced_cng_product_info ced_cng_product-'+g+'">',f+='<div class="ced_cng_popup-column">',f+='<input class="ced_cng_exclude_item" type="checkbox" value="'+g+'" '+excluded+' title="'+exclude_dsc+'">',f+="</div>",f+='<div class="ced_cng_popup-column"><a href="'+permalink+'" class="ced_cng_strikethrough" target="_blank">'+h+"</a></div>",f+='<div class="ced_cng_popup-column"><span class="'+stockClass+'">'+stock+"</span></div>",f+='<div class="ced_cng_popup-column">',f+='<input step="1" min="1" max="" value="'+qty+'" data-id="'+g+'" onkeydown="return false" class="ced_cng_qty" size="4" pattern="[0-9]*" inputmode="numeric" type="number">',f+="</div>",f+="</div>"),e++)}e<=0&&(f+='<div class="ced_cng_product_info ced_cng_product-'+g+'">',f+='<div class="ced_cng_popup-no-product">',f+=global_var.product_not_exist,f+="</div>",f+="</div>"),f+="</div>",f+="</div>",f+='<div class="ced_cng_popup-buttons">',e>0&&(f+='<a id="ced_cng_popup-submit-btn" class="ced_cng_popup-btn" data-order_id="'+b+'"><span>'+global_var.submit+"</span></a>"),f+="</div>",f+="</div>",f+="</div>",f+="</div>",a(document.body).prepend(f)}catch(i){console.log(i)}}})}function d(a,b,c){jQuery.ajax({url:global_var.ajaxurl,data:{action:"get_same_order_cart",ajax_nonce:global_var.ajax_nonce,order_id:a,excluded_products:b,quantities:c},type:"post",success:function(){window.location=global_var.checkouturl}})}a(".ced_my_account_reorder, .ced_my_account_place_same_order").each(function(){a(this).attr("data-order_id",a(this).attr("href").split("http://")[1]),a(this).attr("href","javascript:void(0);")}),a(".ced_my_account_reorder").on("click",function(){a(this).css("opacity","0.5");var c=a(this).data("order_id");b(c)}),a(".ced_cng_reorder").on("click",function(){a(this).css("opacity","0.5");var c=a(this).data("id");b(c)}),a(document).on("click",".ced_my_account_place_same_order",function(){var b=a(this),d=b.data("order_id");b.css("opacity","0.5"),c(d)}),a(document).on("click",".ced_cng_placeorder",function(){var b=a(this),d=b.data("id");b.css("opacity","0.5"),c(d)}),a(document).on("click","#ced_cng_popup-submit-btn",function(){var b=a(this),c=b.data("order_id"),e=[],f={};return b.is('[disabled="disabled"]')?!1:(a(document).find(".ced_cng_exclude_item").each(function(){a(this).is(":checked")&&e.push(a(this).val())}),a(document).find(".ced_cng_qty").each(function(){f[a(this).data("id")]=a(this).val()}),b.css("opacity","0.5"),b.attr("disabled","disabled"),void d(c,e,f))}),a(document).on("click",".ced_cng_close_wrapper",function(){a(this).parents("#ced_cng_prodcts_exclude").remove()})});